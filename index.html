<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc Ti·∫øng Nh·∫≠t</title>
    <!-- Li√™n k·∫øt ƒë·∫øn Font Awesome t·ª´ CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- Li√™n k·∫øt ƒë·∫øn file CSS local -->
    <link rel="stylesheet" href="styles.css">
    <!-- Li√™n k·∫øt ƒë·∫øn Wanakana t·ª´ CDN -->
    <script src="https://cdn.jsdelivr.net/npm/wanakana@4.0.0/umd/wanakana.min.js"></script>
</head>
<body>
    <!-- Header ch√≠nh -->
    <header class="main-header">
        <h1>H·ªçc Ti·∫øng Nh·∫≠t</h1>
        <div class="dark-mode-toggle">
            <span class="icon-sun"><i class="fas fa-sun"></i></span>
            <span class="icon-moon hidden"><i class="fas fa-moon"></i></span>
            <label class="switch">
                <input type="checkbox" id="dark-mode-toggle">
                <span class="slider"></span>
            </label>
        </div>
    </header>
    <!-- Th√¥ng b√°o -->
    <div id="notification" class="notification hidden">ƒê√£ s·ª≠a xong!</div>
    <!-- Container ch√≠nh -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul>
                <li id="nav-home"><i class="fas fa-home" aria-label="Trang ch·ªß"></i> Trang ch·ªß</li>
                <li id="nav-quiz"><i class="fas fa-question-circle" aria-label="Quiz"></i> Quiz</li>
                <li id="nav-vocab"><i class="fas fa-book" aria-label="T·ª´ v·ª±ng"></i> T·ª´ v·ª±ng</li>
                <li id="nav-settings"><i class="fas fa-cog" aria-label="C√†i ƒë·∫∑t"></i> C√†i ƒë·∫∑t</li>
            </ul>
        </aside>

        <!-- Main content -->
        <main>
            <!-- Section Trang ch·ªß -->
            <section id="dashboard" class="section">
                <div class="dashboard-info">
                    <p id="total-vocab">T·ªïng s·ªë t·ª´ v·ª±ng: 0</p>
                </div>
                <div class="quick-links">
                    <button id="quick-quiz"><i class="fas fa-question-circle"></i> B·∫Øt ƒë·∫ßu Quiz</button>
                    <button id="quick-add-vocab"><i class="fas fa-plus"></i> Th√™m t·ª´ v·ª±ng</button>
                    <button id="reset-vocab"><i class="fas fa-sync-alt"></i> Reset t·ª´ v·ª±ng m·∫∑c ƒë·ªãnh</button>
                </div>
            </section>

            <!-- Section Quiz -->
            <section id="quiz-section" class="section hidden">
                <div id="lesson-selection">
                    <h3>Ch·ªçn b√†i h·ªçc:</h3>
                    <div class="lesson-buttons" id="lesson-buttons">
                        <!-- C√°c n√∫t b√†i h·ªçc s·∫Ω ƒë∆∞·ª£c th√™m ƒë·ªông b·∫±ng JavaScript -->
                    </div>
                    <div class="lesson-actions">
                        <button type="button" id="select-all-btn">Ch·ªçn t·∫•t c·∫£</button>
                        <button type="button" id="start-quiz-btn">B·∫Øt ƒë·∫ßu Quiz</button>
                    </div>
                    <p id="selected-vocab-count" style="text-align: center; margin-top: 10px;">ƒê√£ ch·ªçn: 0 t·ª´ v·ª±ng</p>
                    <div id="error-message" class="hidden" style="color: red; text-align: center; margin-top: 10px;">
                        B√†i h·ªçc ƒë√£ ch·ªçn ph·∫£i c√≥ √≠t nh·∫•t 4 t·ª´ v·ª±ng ƒë·ªÉ b·∫Øt ƒë·∫ßu quiz. Vui l√≤ng th√™m t·ª´ v·ª±ng.
                    </div>
                </div>
                <div class="quiz-card hidden">
                    <div class="quiz-header">
                        <button type="button" id="show-meaning-btn" class="icon-btn"><i class="fas fa-lightbulb"></i></button>
                        <div class="quiz-question">
                            <h3 id="quiz-kanji"></h3>
                            <p id="quiz-meaning" class="hidden"></p>
                        </div>
                        <button type="button" onclick="playQuizAudio()" class="play-audio-btn">üîä</button>
                    </div>
                    <div class="progress-bar">
                        <div id="progress"></div>
                        <span id="progress-text">0/0</span>
                    </div>
                    <div class="options">
                        <button type="button" class="option-btn"></button>
                        <button type="button" class="option-btn"></button>
                        <button type="button" class="option-btn"></button>
                        <button type="button" class="option-btn"></button>
                    </div>
                    <p id="quiz-feedback"></p>
                    <div class="navigation">
                        <button type="button" id="back-to-lessons" class="nav-btn">Quay l·∫°i ch·ªçn b√†i h·ªçc</button>
                        <button type="button" id="quiz-restart" class="nav-btn"><i class="fas fa-redo"></i> B·∫Øt ƒë·∫ßu l·∫°i</button>
                        <button type="button" id="quiz-next" class="nav-btn">C√¢u ti·∫øp theo <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </section>
<section id="flashcard-section" class="section hidden">
    <!-- Ph·∫ßn ch·ªçn b√†i h·ªçc -->
    <div id="flashcard-lesson-selection">
        <h3>Ch·ªçn b√†i h·ªçc cho Flashcard:</h3>
        <div class="lesson-buttons" id="flashcard-lesson-buttons"></div>
        <div class="lesson-actions">
            <button type="button" id="flashcard-select-all-btn">Ch·ªçn t·∫•t c·∫£</button>
            <button type="button" id="start-flashcard-btn">B·∫Øt ƒë·∫ßu Flashcard</button>
        </div>
    </div>
    <!-- Ph·∫ßn hi·ªÉn th·ªã th·∫ª -->
    <div class="flashcard-card hidden">
        <div class="flashcard-front">
            <h3 id="flashcard-kanji"></h3>
        </div>
        <div class="flashcard-back hidden">
            <p id="flashcard-meaning"></p>
            <p id="flashcard-hiragana"></p>
            <p id="flashcard-romaji"></p>
        </div>
        <button type="button" id="flip-btn">L·∫≠t th·∫ª</button>
        <button type="button" id="next-flashcard-btn">Th·∫ª ti·∫øp theo</button>
        <button type="button" id="back-to-flashcard-lessons">Quay l·∫°i ch·ªçn b√†i h·ªçc</button>
    </div>
</section>
            <!-- Section Qu·∫£n l√Ω t·ª´ v·ª±ng -->
            <section id="vocab-section" class="section hidden">
                <p id="total-vocab-count">T·ªïng s·ªë t·ª´ v·ª±ng: 0</p>
                <form id="add-vocab-form">
                    <input type="text" id="kanji" placeholder="Kanji">
                    <input type="text" id="hiragana" placeholder="Hiragana/Katakana" required>
                    <input type="text" id="romaji" placeholder="Romaji">
                    <input type="text" id="meaning" placeholder="Nghƒ©a" required>
                    <input type="text" id="lesson" placeholder="B√†i" required>
                    <button type="submit"><i class="fas fa-plus"></i> Th√™m</button>
                </form>
                <div id="lesson-filter">
                    <label for="lesson-select">L·ªçc theo b√†i h·ªçc:</label>
                    <select id="lesson-select">
                        <option value="all">T·∫•t c·∫£</option>
                    </select>
                </div>
                <div id="import-vocab">
                    <h3>Import T·ª´ V·ª±ng T·ª´ File Excel</h3>
                    <input type="file" id="excelFileInput" accept=".xlsx, .xls">
                    <button type="button" id="import-excel-btn"><i class="fas fa-file-import"></i> Nh·∫≠p t·ª´ v·ª±ng (Excel)</button>
                    <a href="sample.xlsx" download="sample.xlsx"><i class="fas fa-download"></i> T·∫£i file m·∫´u</a>
                    <button type="button" id="download-excel-btn" style="margin-left: 10px;"><i class="fas fa-download"></i> T·∫£i file Excel t·ª´ v·ª±ng</button>
                    <button type="button" id="show-trash-btn" style="float: right;"><i class="fas fa-trash-alt"></i> Hi·ªÉn th·ªã Th√πng R√°c</button>
                    <button type="button" id="delete-all-vocab-btn" style="float: right; margin-right: 10px;"><i class="fas fa-trash"></i> X√≥a t·∫•t c·∫£</button>
                </div>
                <table id="wordTable">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Kanji</th>
                            <th>Hiragana/Katakana</th>
                            <th>Romaji</th>
                            <th>Nghƒ©a</th>
                            <th>B√†i</th>
                            <th>√Çm thanh</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>

            <!-- Section Th√πng r√°c -->
            <section id="trash-section" class="section hidden">
                <h2>Th√πng R√°c</h2>
                <button type="button" id="close-trash-btn"><i class="fas fa-times"></i> ƒê√≥ng</button>
                <button type="button" id="permanent-delete-all-btn" style="float: right; margin-right: 10px;"><i class="fas fa-trash-alt"></i> X√≥a vƒ©nh vi·ªÖn t·∫•t c·∫£</button>
                <table id="trashTable">
                    <thead>
                        <tr>
                            <th>Kanji</th>
                            <th>Hiragana/Katakana</th>
                            <th>Romaji</th>
                            <th>Nghƒ©a</th>
                            <th>B√†i</th>
                            <th>H√†nh ƒë·ªông</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>

            <!-- Section C√†i ƒë·∫∑t -->
            <section id="settings-section" class="section hidden">
                <div class="setting-item">
                    <label class="switch">
                        <input type="checkbox" id="randomize-options-toggle">
                        <span class="slider"></span>
                    </label>
                    <p>Random ƒë√°p √°n</p>
                </div>
                <div>
                    <label for="retry-interval">Hi·ªÉn th·ªã l·∫°i c√¢u sai sau bao nhi√™u c√¢u:</label>
                    <input type="number" id="retry-interval" min="1" value="10">
                </div>
                <div>
                    <label for="retry-max">S·ªë l·∫ßn l·∫∑p l·∫°i t·ªëi ƒëa cho m·ªói c√¢u sai:</label>
                    <input type="number" id="retry-max" min="1" value="3">
                </div>
            </section>
        </main>
    </div>

    <!-- C√°c ph·∫ßn t·ª≠ √¢m thanh -->
    <audio id="correct-sound" src="sound/correct.mp3" preload="auto"></audio>
    <audio id="incorrect-sound" src="sound/incorrect.mp3" preload="auto"></audio>
    <audio id="click-sound" src="sound/click.mp3" preload="auto"></audio>

    <!-- Li√™n k·∫øt ƒë·∫øn c√°c file JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="script.js"></script>
</body>
</html>